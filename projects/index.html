<!doctype html><html><head><title>Projects</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/layouts/main.css><link rel=stylesheet href=/css/navigators/navbar.css><link rel=stylesheet href=/css/plyr.css><link rel=stylesheet href=/google-fonts/Mulish/mulish.css><link rel=stylesheet href=/fontawesome/css/all.min.css><link rel=stylesheet href=/css/colortheme/colortheme.css><link rel=icon type=image/png href=/images/site/logo_no_bg_hu29c94b954602da118b51e4943b22ee93_110058_42x0_resize_box_3.png><meta property="og:title" content="Projects"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://kristian-94.github.io/projects/"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/css/layouts/notes.css><link rel=stylesheet href=/css/navigators/sidebar.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-H4LBG7NDFZ"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-H4LBG7NDFZ",{anonymize_ip:!1})}</script></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/><img src=/images/site/logo_white_hu499226ecff3a52db5ffa6bfbc5e1e8ae_94097_42x0_resize_box_3.png alt=Logo>
Kristian's Projects</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><div id=theme-initialization style=display:none default-theme=system></div><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# onclick=enableLightTheme()><img class=menu-icon-center src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme"></a>
<a class="dropdown-item nav-link" href=# onclick=enableDarkTheme()><img class=menu-icon-center src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a>
<a class="dropdown-item nav-link" href=# onclick=useSystemTheme()><img class=menu-icon-center src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/logo_white_hu499226ecff3a52db5ffa6bfbc5e1e8ae_94097_42x0_resize_box_3.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/logo_black_hu3f95809e71e16daad4ce71c3d0baa67f_1283240_42x0_resize_box_3.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/projects data-filter=all></a></li><div class=subtree><li><i class="fas fa-plus-circle"></i><a href=/notes/go/>Go</a><ul><li><i class="fas fa-plus-circle"></i><a href=/notes/go/basic/>বেসিক</a><ul><li><a href=/notes/go/basic/introduction/ title=পরিচিতি>পরিচিতি</a></li><li><a href=/notes/go/basic/types/ title="বেসিক টাইপ সমূহ">বেসিক টাইপ সমূহ</a></li><li><a href=/notes/go/basic/flow-control/ title="Flow Control">Flow Control</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/notes/go/advanced/>অ্যাডভান্সড</a><ul><li><a href=/notes/go/advanced/files/ title="ফাইল ম্যানিপুলেশন">ফাইল ম্যানিপুলেশন</a></li></ul></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/notes/bash/>ব্যাশ</a><ul><li><a href=/notes/bash/basic/ title=ভেরিয়েবল>ভেরিয়েবল</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class="content container-fluid" id=content><div class="container-fluid note-card-holder" id=note-card-holder><h3 id=problem>Problem</h3><p>I have an air conditioner that I want to control remotely. Turn it on before I get home, or from anywhere, using my phone. It&rsquo;s not &lsquo;smart&rsquo;, doesn&rsquo;t have those features built in.</p><h3 id=approach>Approach</h3><p>The idea is to capture the IR (infra-red) signal from the air con&rsquo;s remote, and be able to output that again on demand. We don&rsquo;t need to decode the signal or understand how fujitsu encodes things.</p><p>We need an IR receiver, to capture the raw data. Once we have that, we don&rsquo;t need the receiver anymore. Then we just need the IR emitter to output the captured codes.</p><h3 id=hardware-implementation>Hardware Implementation</h3><p>An Arduino is a microcontroller board. It&rsquo;s really good at input and output of electronic signals. The first thing was to capture the signal using the arduino and IR receiver. The serial monitor outputs over USB to the computer everything that is happening on the arduino.</p><p>The whole build process worked fine, pretty simple. Arduino IDE works well to compile and upload code. The IR receiver worked well to capture the output of the remote. Everything ran at a frequency of 38 KHz as is pretty normal for air conditioners.</p><p>Here it is in action:</p><video width=600 controls>
<source src=/projects/videos/aircon/air-con-capture.webm type=video/webm>Your browser does not support the video tag.</video><p>The way this works is the IR led turns on and off very quickly. The &rsquo;long&rsquo; pulses are seen as 1, and short pulses as 0, and in that way it encodes information. It also has a certain tolerance around the pulse time, since it&rsquo;s so short it naturally varies, about 350-450us for short pulses, 1250 for long ones. The 3200,1650 is a spacer pulse, to signal the start/end of a signal.</p><p><img src=/projects/images/aircon/serial-capture.png alt=serial-capture></p><h5 id=issue-1-running-out-of-memory>Issue 1: Running out of memory</h5><p>The captured commands are so long, that the Arduino did not let me upload that compiled script. We were running out of SRAM, ie. Static Random Access Memory that is really fast but limited.
Claude got around this by storing the constants in program memory instead, which was really nice to breeze past that issue.</p><pre tabindex=0><code>const uint16_t rawData_OFF[] PROGMEM = {...};
</code></pre><h5 id=issue-2-highsetting-command-did-not-work>Issue 2: HIGH/setting command did not work</h5><p><strong>Problem</strong>: OFF command transmitted successfully, but ON command failed
Claude told me it was a power/timing issue with longer signals based on research about 750+ element AC protocol problems. It told me about timing drift and some in depth technical stuff but that turned out to be a red herring. But Claude doesn&rsquo;t know everything&mldr;</p><p>But it did let me see timing drift with some python scripts, comparing the remote to my signal.</p><p><img src=/projects/images/aircon/timing-drift.png alt=timing-drift></p><p>Cool looking chart.. but not the source of the issue, the drift is pretty minimal as we can see.</p><p>I found on the docs of the IR remote library we&rsquo;re using to capture that the buffer length was likely too low: <a href="https://github.com/Arduino-IRremote/Arduino-IRremote?tab=readme-ov-file#compile-options--macros-for-this-library">https://github.com/Arduino-IRremote/Arduino-IRremote?tab=readme-ov-file#compile-options--macros-for-this-library</a> as it says:</p><blockquote><p>100 is sufficient for <em>regular</em> protocols of up to 48 bits, but for most air conditioner protocols a value of up to 750 is required</p></blockquote><p>The ON signal was being truncated at exactly 200 elements due to a small buffer size.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>define</span> <span style=color:#a6e22e>RAW_BUFFER_LENGTH</span> <span style=color:#ae81ff>400</span>
</span></span></code></pre></div><p>Air cons send the full state of the air con every time, like the temp, fan speed, mode, timers. So this is a pretty long signal, and took 260 pulses, which when truncated won&rsquo;t do anything.</p><h5 id=issue-3-on-command-is-different-to-set-to-high>Issue 3: ON command is different to &lsquo;set to HIGH&rsquo;</h5><p>Even with the full captured command, it still wouldn&rsquo;t turn on, but it would set to HIGH if the unit was already on. It turns out that there is a different command to turn on AND set to high, rather than just set to high. Once I did a recapture, that worked. I compared the two captures and could see a few bits changed from 0 -> 1 so that made me try the new signal.</p><p>Now the IR emitter is working great, and controls the air con. But we&rsquo;re controlling it by having it plugged into the computer and manually telling it to emit each signal. How can we control it remotely?</p><h3 id=remote-control>Remote control</h3><p>An ESP32 is a small wifi enabled microcontroller. It&rsquo;s kind of like an arduino in that way, but it also has wifi connectivity which is perfect for this. It works similar to the arduino as well in that we just compile and upload code to it through the arduino IDE.</p><p><img src=/projects/images/aircon/esp32.png alt=esp32.png></p><p>It&rsquo;s some C++ code that runs on the ESP32 to create a simple web server. This allows us to receive HTTP GET requests.</p><pre tabindex=0><code>#include &lt;WebServer.h&gt;
uint16_t acOff[116] = {3200,1650,350,450,...};
uint16_t acOnHigh[259] = {3200,1650,350,450,...};
void setup() {
   server.on(&#34;/on&#34;, handleOn);
   server.on(&#34;/off&#34;, handleOff);
}
</code></pre><p>The <code>WebServer</code> library is doing all that for us. Now we just have to do GET requests to the IP address of the esp32 to control it.</p><h3 id=final-mounting-for-now>Final mounting (for now)</h3><p><img src=/projects/images/aircon/mounted-setup.jpeg alt=mounted-setup></p><p>Could print an enclosure/put it further away.. it works for now.</p><p>Simple web page hosted on a pi, that is the only entrypoint on the home network. Using Cloudflare tunnel we don&rsquo;t have to open ports on the router itself. This server now simply calls <code>192.168.1.115/on</code> and <code>192.168.1.115/off</code>.</p><p><img src=/projects/images/aircon/flask-pi-aircon.png alt=flask-pi-aircon></p><h1 id=learnings>Learnings</h1><h3 id=how-air-con-ir-pi-arduino-and-esp32-work>How air con, IR, pi, arduino and esp32 work</h3><p>It was really cool seeing the real captured IR data coming through on the serial monitor. Normally using a remote you just wouldn&rsquo;t think about what is happening on a lower level like that, and it was cool to see the invisible signal being made visible.
I understand more what a pi is good for, more of a server/full computer, vs arduino/esp32 which is for controlling components directly. Working together in this system is a cool way to allow each to play to its strengths.</p><pre class=mermaid>
 %%{init: {&#39;theme&#39;:&#39;base&#39;, &#39;themeVariables&#39;: {&#39;background&#39;: &#39;#ffffff&#39;, &#39;primaryColor&#39;: &#39;#ffffff&#39;, &#39;primaryTextColor&#39;: &#39;#000000&#39;}}}%%
graph LR
    USER[&#34;📱 User&lt;br/&gt;iPhone Browser&#34;]
    PI[&#34;🥧 Raspberry Pi&lt;br/&gt;Flask Server&#34;]
    ESP[&#34;💡 ESP32&lt;br/&gt;192.168.1.115&lt;br/&gt;HTTP + IR&#34;]
    AC[&#34;❄️ Air Conditioner&#34;]
    
    USER ==&gt;|&#34;HTTPS&lt;br/&gt;ac.ringertech.org&#34;| PI
    PI ==&gt;|&#34;HTTP GET&lt;br/&gt;/on or /off&#34;| ESP
    ESP ==&gt;|&#34;38kHz IR Signal&#34;| AC
    
    classDef deviceStyle fill:#f8f9fa,stroke:#6c757d,stroke-width:2px,color:#000,rx:10,ry:10
    
    class USER,PI,ESP,AC deviceStyle
</pre><h3 id=claude>Claude</h3><p>It is really helpful to have claude as a fallback, rubber duck debugger and helper. It felt like I couldn&rsquo;t really get stuck too much, I always had a knowledgable tool to push through any hiccups. It makes the whole project smoother, and more than that just reduces anxiety and gives confidence. I know I could do many other projects and it feels more exciting and fun having that tool to unstick yourself. I also could ask many more follow up questions about how the circuit, code, and components worked.
Of course, having it write the initial arduino code was also super helpful because I don&rsquo;t know all the intricacies of the syntax.</p><p>Having said that, it made me get extra stuck when the signal was being truncated to 200, suggesting timing/other issues&mldr; I think without claude I would have figured that out faster.</p><p>On to the next one&mldr;</p><p>A Youtube channel, online course and community centered around Moodle development and training.</p><h2 id=the-problem>The problem</h2><p>When I started trying to learn Moodle, the code and ecosystem around it was very hard to understand. The documentation is also not clear unless you already know Moodle!</p><p>I am passionate about teaching and sharing knowledge. This project is my small contribution to make a mark on the Moodle world and help new developers get up to scratch.</p><ul><li>Having a large community of developers contributing is good for the whole Moodle ecosystem.</li><li>Making this first step for new developers to get up and running is the most important for community growth.</li><li>We want more developers creating more awesome Moodle plugins and modules.</li></ul><h2 id=the-project>The project</h2><p>A Youtube channel, a Udemy course and a Skillshare course were created to help people. Videos have been recorded over a number of years and continue to be added to the collection. There is a focus on clear communication and building a strong foundation for new Moodle developers.</p><h4 id=moodle-tips-online-course>Moodle tips online course</h4><p>Check out a Youtube video, first in a series of building a plugin:</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/u54B7eFuG6w style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h4 id=moodle-tips-website>Moodle tips website</h4><p>Check out the main site <a href=https://prestige.tips/moodle-tips>https://prestige.tips/moodle-tips</a> (I couldn&rsquo;t use moodle.tips because of <a href=https://moodle.com/trademarks>trademarks</a>)</p><p><a href=https://prestige.tips/moodle-tips><img src=/projects/images/moodle_tips_screenshot.png alt=Foo></a></p><h2 id=results>Results</h2><p>The channel has helped many people, some comments are copied below. Thanks to all for watching and learning!</p><p><img src=/projects/images/moodletips_comments/comment1.png alt=comment1>
<img src=/projects/images/moodletips_comments/comment2.png alt=comment2>
<img src=/projects/images/moodletips_comments/comment3.png alt=comment3>
<img src=/projects/images/moodletips_comments/comment4.png alt=comment4>
<img src=/projects/images/moodletips_comments/comment5.png alt=comment5>
<img src=/projects/images/moodletips_comments/comment6.png alt=comment6>
<img src=/projects/images/moodletips_comments/comment7.png alt=comment7>
<img src=/projects/images/moodletips_comments/comment8.png alt=comment8></p><p>Track billed hours to separate buckets</p><h2 id=the-problem>The problem</h2><p>Keeping track of the ‘real’ hours worked vs the adjusted ‘billed’ hours can be tricky. They are different, and we need a system to keep track of billed hours. This is for companies that have clients that buy ‘Buckets’ of hours and then slowly use those hours for support and development. Support staff need to be able to answer the question:</p><ul><li>How many hours does this client have left?</li><li>Can we accept new work or do we need to buy more hours first?</li></ul><h2 id=the-project>The project</h2><p>The project is a simple interface to store hours against buckets and invoices. There are different authorization levels for read only users vs admins who can input hours content.</p><p>The demo site is hosted on github pages for the react front end using <a href=https://github.com/gitname/react-gh-pages>react-gh-pages</a> and google cloud run for the backend with a sqlite database for this demo.</p><p>I initially created the backend using Google&rsquo;s Firebase as a NoSQL data store. This was migrated over to Yii 2 (PHP framework) + PostgresQL to host on AWS servers for production.</p><p>The frontend uses React.js javascript framework.</p><h2 id=results>Results</h2><p>This app is currently successfully being used in an internal production billing system to handle vital billing data.</p><h3 id=demo>Demo</h3><p><a href=https://kristian-94.github.io/logbook>View a demo of the project</a>
<a href=https://kristian-94.github.io/logbook><img src=/projects/images/logbook_screenshot.png alt=Foo></a></p><h3 id=source-code>Source Code</h3><p><a href=https://github.com/kristian-94/logbook>View project source code</a></p><div class=text-center><div class=github-card data-github=kristian-94/logbook data-width=400 data-height data-theme=default></div><script src=https://cdn.jsdelivr.net/github-cards/latest/widget.js></script></div><p>These are my notes taken during implementing the micrograd library and training a neural net to recognise images.</p><p>Check back soon for a link to a working demo and code :)</p><h2 id=what-is-micrograd>What is micrograd?</h2><p>This is all based off <a href=https://en.wikipedia.org/wiki/Andrej_Karpathy>Andrej Karpathy</a>&rsquo;s Github repo and Youtube videos.
I am a huge fan of him!</p><p>Micrograd is all you need to train neural networks. Everything else (pytorch/tensor flow) is just efficiency.</p><div class=text-center><div class=github-card data-github=karpathy/micrograd data-width=400 data-height data-theme=default></div><script src=//cdn.jsdelivr.net/github-cards/latest/widget.js></script><br></div><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/VMj-3S1tku0 style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h1 id=my-notes>My notes</h1><p>We need to get the gradient of the loss function and step towards minimal value. Change weights of inputs in a way that
will take us there.</p><p>Two files:
<code>nn.py</code> neural net library importing and using micrograd engine.
<code>engine.py</code> 100 lines of python code, no imports.</p><h3 id=nnpy>nn.py</h3><p><code>neuron</code> : one link in the chain of weights, ends up getting a value and connected to other neurons. The weight between
is the strength of that connection.
<code>layer</code> layer of neurons. They are all connected to the input but not eachother, a set of neurons evaluated
independently.
<code>MLP</code> multi layer perceptron: sequence of layers of neurons.</p><p>We are computing the derivative of the loss function with respect to the weights of the neural network.</p><h5 id=how-do-weights-affect-the-loss-function>How do weights affect the loss function?</h5><p>Use gradient information. Weights are leaf nodes, they are an input. The other leaf nodes are the data but that is
fixed.</p><h3 id=gradient-calculation>Gradient calculation</h3><p>In calculus, we can use the product rule to explicitly generate an equation to get the exact derivative.
However, we can&rsquo;t do that for these huge functions with 10k parameters and we don&rsquo;t need to.</p><h4 id=what-is-a-gradient>What is a gradient?</h4><p>A gradient is the slope of a graph at a point. We get this as a limit when increasing x by a small amount. Practically,
this means we just
need to insert a slightly larger number and rerun our function. Then we see how much it changed, positive or negative,
that&rsquo;s the gradient.</p><p>We normalise by dividing by the height, rise/run. <code>(L2 - L1)/h</code>
We can get the gradient of the final L loss with respect to any of the input elements, by only changing it, and then
seeing how much L changed. This is the way to verify the calculated overall gradient that is found by traversing each
node individually and applying the chain rule from the surrounding nodes.</p><p>If we know how much d affects L, and how much e affects d, we can then use the chain rule of derivatives to calculate
the overall derivative of e on L.</p><p>A <code>+</code> in the chart just pulls through the next node&rsquo;s gradient. A plus has a gradient of 1.0 with respect to the next
node, so it can just copy the next gradient to the children nodes. It&rsquo;s basically equivalent of a simple equation
eg. <code>y = x + c</code> -> gradient is 1.</p><h4 id=back-propagation>Back propagation</h4><p>This is a recursive application of the chain rule back through the computational graph.</p><h3 id=leaf-nodes>Leaf Nodes</h3><p>Some inputs are static data. The others are weights. Some others can be bias.</p><p>For each neuron:</p><ul><li>Take all the inputs and sum all the weights and values. (can have any number of inputs)</li><li>Add the bias.</li><li>Take it through an activation function (tanh/sigmoid). This squashes the input into a value between 0 - 1 which is the
final output and value of this neuron.</li></ul><p>We want the local derivative of the neuron&rsquo;s inputs on the final output. This whole thing is one little neuron in the
neural net. In the end we&rsquo;ll back propagate through the entire set of neurons for the overall loss function. We really
want the neurons output derived from the weights which is the thing we can change.</p></div><div class=paginator></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://kristian-94.github.io#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://kristian-94.github.io#projects>Projects</a></li><li class=nav-item><a class=smooth-scroll href=https://kristian-94.github.io#skills>Skills</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:kristian.ringer@gmail.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>kristian.ringer@gmail.com</span></a></li><li><a href=https://github.com/kristian-94 target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>kristian-94</span></a></li><li><a href=https://www.linkedin.com/in/kristian-ringer-9ab515104 target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Kristian Ringer</span></a></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2025 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script type=text/javascript src=/js/jquery-3.4.1.min.js></script>
<script type=text/javascript src=/js/popper.min.js></script>
<script type=text/javascript src=/js/bootstrap.min.js></script>
<script type=text/javascript src=/js/navbar.js></script>
<script type=text/javascript src=/js/plyr.js></script>
<script type=text/javascript src=/js/main.js></script>
<script type=text/javascript src=/js/darkreader.js></script>
<script type=text/javascript src=/js/darkmode-darkreader.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script>
<script src=/js/imagesloaded.pkgd.min.js></script>
<script src=/js/note.js></script>
<script>hljs.initHighlightingOnLoad()</script></body></html>